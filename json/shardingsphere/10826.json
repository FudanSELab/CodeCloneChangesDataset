[{"authorTime":"2021-07-26 14:43:21","codes":[{"authorDate":"2021-07-26 14:43:21","commitOrder":9,"curCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field field = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        field.setAccessible(true);\n        field.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), \n                Collections.singletonMap(\"sharding_db\", mockShardingSphereMetaData()), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n    }\n","date":"2021-07-26 14:43:21","endLine":161,"groupId":"9528","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"setMetaDataContexts","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c8/a0f4115d1a9c45addb52bf43917fea9b64b010.src","preCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field field = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        field.setAccessible(true);\n        field.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), \n                Collections.singletonMap(\"sharding_db\", mockShardingSphereMetaData()), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-mysql/src/test/java/org/apache/shardingsphere/proxy/frontend/mysql/authentication/MySQLAuthenticationEngineTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":155,"status":"MB"},{"authorDate":"2021-07-26 14:43:21","commitOrder":9,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-07-26 14:43:21","endLine":87,"groupId":"12877","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/b8/90fe48e16bb52f8e849bc27a4a3dbcdb5b57da.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"MB"}],"commitId":"3073e94515f9556d995dbf3a2d409630801788f4","commitMessage":"@@@Rename ConfigCenter to DistMetaDataPersistService (#11505)\n\n* Rename DistMetaDataPersistService\n\n* Rename DistMetaDataPersistRepository\n\n* Rename DistMetaDataPersistRepository\n\n* For checkstyle\n\n* For checkstyle","date":"2021-07-26 14:43:21","modifiedFileCount":"59","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-07-26 14:43:21","codes":[{"authorDate":"2021-07-27 07:22:30","commitOrder":10,"curCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field field = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        field.setAccessible(true);\n        field.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), \n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n    }\n","date":"2021-07-27 07:22:30","endLine":155,"groupId":"9528","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"setMetaDataContexts","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/c9/ec9d7e2c389b632cb9403afc6b14d0b92ef217.src","preCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field field = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        field.setAccessible(true);\n        field.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), \n                Collections.singletonMap(\"sharding_db\", mockShardingSphereMetaData()), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-mysql/src/test/java/org/apache/shardingsphere/proxy/frontend/mysql/authentication/MySQLAuthenticationEngineTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":149,"status":"M"},{"authorDate":"2021-07-26 14:43:21","commitOrder":10,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-07-26 14:43:21","endLine":87,"groupId":"12877","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/b8/90fe48e16bb52f8e849bc27a4a3dbcdb5b57da.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":78,"status":"N"}],"commitId":"6d7e3fe33533f8d8dd098e81d667ce57aabd625a","commitMessage":"@@@Use raw new HashMap to instead of guava (#11517)\n\n* Use raw new HashMap to instead of guava\n\n* Use raw new HashMap to instead of guava","date":"2021-07-27 07:22:30","modifiedFileCount":"69","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-08-15 02:33:31","codes":[{"authorDate":"2021-08-15 02:33:31","commitOrder":11,"curCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class),\n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n    }\n","date":"2021-08-15 02:33:31","endLine":160,"groupId":"13896","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"setMetaDataContexts","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/91/5c500023aa12dadef71a4e0d73ad83e6b3fcc8.src","preCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field field = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        field.setAccessible(true);\n        field.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), \n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-mysql/src/test/java/org/apache/shardingsphere/proxy/frontend/mysql/authentication/MySQLAuthenticationEngineTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":151,"status":"M"},{"authorDate":"2021-08-15 02:33:31","commitOrder":11,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-08-15 02:33:31","endLine":91,"groupId":"13896","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/6f/b8c2077d94e6195065432373fdbf7b5584de4b.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field metaDataContexts = ProxyContext.getInstance().getClass().getDeclaredField(\"metaDataContexts\");\n        metaDataContexts.setAccessible(true);\n        metaDataContexts.set(ProxyContext.getInstance(), new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(), \n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class)));\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"}],"commitId":"d6e424ba68c64ea1835a42b0f4b0fb7f69c95323","commitMessage":"@@@Add ContextManager (#11822)\n\n* Add ContextManager\n\n* Use ContextManager on GovernanceShardingSphereDataSource\n\n* Use ContextManager on ShardingSphereDataSource\n\n* Use ContextManager on ShardingSphereConnection\n\n* Use ContextManager on ShardingSphereConnection\n\n* Refactor AbstractBaseExecutorTest\n\n* Use ContextManager on proxy\n\n* Fix test case","date":"2021-08-15 02:33:31","modifiedFileCount":"118","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-08-15 11:55:34","codes":[{"authorDate":"2021-08-15 11:55:34","commitOrder":12,"curCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class),\n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n    }\n","date":"2021-08-15 11:55:34","endLine":160,"groupId":"13896","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"setMetaDataContexts","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/4e/6ad63c27092c4c8c3aa50c36b685c80120c2ef.src","preCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class),\n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-mysql/src/test/java/org/apache/shardingsphere/proxy/frontend/mysql/authentication/MySQLAuthenticationEngineTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":151,"status":"M"},{"authorDate":"2021-08-15 11:55:34","commitOrder":12,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-08-15 11:55:34","endLine":91,"groupId":"13896","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/a7/715fffd69a234b795f16e014fa1f4e7601e3b0.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        StandardMetaDataContexts metaDataContexts = new StandardMetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"}],"commitId":"21a22f867f1709d878330ac64794a8a8880a116c","commitMessage":"@@@Merge StandardContexts and Contexts interface (#11826)\n\n","date":"2021-08-15 11:55:34","modifiedFileCount":"53","status":"M","submitter":"Liang Zhang"},{"authorTime":"2021-08-21 23:24:02","codes":[{"authorDate":"2021-08-21 23:24:02","commitOrder":13,"curCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(PersistService.class),\n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n    }\n","date":"2021-08-21 23:24:02","endLine":160,"groupId":"10826","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"setMetaDataContexts","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/e1/70dacab2f0bf84d870767fba4faffb5984047b.src","preCode":"    private void setMetaDataContexts() throws NoSuchFieldException, IllegalAccessException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class),\n                Collections.singletonMap(\"sharding_db\", mock(ShardingSphereMetaData.class)), mock(ShardingSphereRuleMetaData.class),\n                mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-frontend/shardingsphere-proxy-frontend-mysql/src/test/java/org/apache/shardingsphere/proxy/frontend/mysql/authentication/MySQLAuthenticationEngineTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":151,"status":"M"},{"authorDate":"2021-08-21 23:24:02","commitOrder":13,"curCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(PersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","date":"2021-08-21 23:24:02","endLine":91,"groupId":"10826","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"setUp","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/15/eb4b4eb880712cf86ad753617c6af8b38e9a31.src","preCode":"    public void setUp() throws IllegalAccessException, NoSuchFieldException, SQLException {\n        Field contextManagerField = ProxyContext.getInstance().getClass().getDeclaredField(\"contextManager\");\n        contextManagerField.setAccessible(true);\n        ContextManager contextManager = mock(ContextManager.class, RETURNS_DEEP_STUBS);\n        MetaDataContexts metaDataContexts = new MetaDataContexts(mock(DistMetaDataPersistService.class), getMetaDataMap(),\n                mock(ShardingSphereRuleMetaData.class), mock(ExecutorEngine.class), new ConfigurationProperties(new Properties()), mock(OptimizeContextFactory.class));\n        when(contextManager.getMetaDataContexts()).thenReturn(metaDataContexts);\n        contextManagerField.set(ProxyContext.getInstance(), contextManager);\n        when(backendConnection.getSchemaName()).thenReturn(String.format(SCHEMA_PATTERN, 0));\n        mockDatabaseCommunicationEngine(new UpdateResponseHeader(mock(SQLStatement.class)));\n        unicastDatabaseBackendHandler = new UnicastDatabaseBackendHandler(mock(SQLStatementContext.class), EXECUTE_SQL, backendConnection);\n        setBackendHandlerFactory(unicastDatabaseBackendHandler);\n    }\n","realPath":"shardingsphere-proxy/shardingsphere-proxy-backend/src/test/java/org/apache/shardingsphere/proxy/backend/text/data/impl/UnicastDatabaseBackendHandlerTest.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":79,"status":"M"}],"commitId":"534fe5735969e87e2066a2087ba12618be530cbc","commitMessage":"@@@Refactor ShardingSphereMode (#11937)\n\n* Refactor ShardingSphereAutoConfiguration\n\n* Remove useless PersistRepositoryFactory\n\n* Add StandalonePersistRepository\n\n* Add generic type of ShardingSphereMode\n\n* Add generic type of ContextManagerBuilder\n\n* Refactor ShardingSphereMode\n\n* Rename LocalStandalonePersistRepository\n\n* Rename LocalRepository\n\n* Rename RegistryCenterRepository to ClusterPersistRepository\n\n* Rename ClusterPersistRepositoryFactory\n\n* Move StandalonePersistRepository\n\n* Move StandalonePersistRepositoryConfiguration\n\n* Rename DistMetaDataPersistService to PersistService","date":"2021-08-21 23:24:02","modifiedFileCount":"75","status":"M","submitter":"Liang Zhang"}]
