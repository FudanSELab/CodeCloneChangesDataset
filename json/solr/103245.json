[{"authorTime":"2015-11-22 17:56:22","codes":[{"authorDate":"2016-07-26 02:15:48","commitOrder":2,"curCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create() {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setConfigName(config);\n    create.setCollectionName(name);\n    create.setNumShards(1);\n    create.setReplicationFactor(1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","date":"2016-08-03 07:42:10","endLine":173,"groupId":"57921","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"create1ShardCollection","params":"(Stringname@Stringconfig@MiniSolrCloudClustersolrCluster)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/18/39d32760e948f654d7fe2523dbe8053702427f.src","preCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create() {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setConfigName(config);\n    create.setCollectionName(name);\n    create.setNumShards(1);\n    create.setReplicationFactor(1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestSolrCloudWithSecureImpersonation.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":151,"status":"B"},{"authorDate":"2015-11-22 17:56:22","commitOrder":2,"curCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create();\n    create.setConfigName(config);\n    create.setCollectionName(name);\n    create.setNumShards(2);\n    create.setReplicationFactor(1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","date":"2015-11-22 17:56:22","endLine":91,"groupId":"57921","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createCollection","params":"(Stringname@Stringconfig)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/db/e7a5969aa7601938f21fec8cf385274f6ba94e.src","preCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create();\n    create.setConfigName(config);\n    create.setCollectionName(name);\n    create.setNumShards(2);\n    create.setReplicationFactor(1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestRequestForwarding.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":76,"status":"NB"}],"commitId":"e50858c314a138e2c2ced50bee9a5c2754929f8b","commitMessage":"@@@SOLR-9324: Support Secure Impersonation / Proxy User for solr authentication\n","date":"2016-08-03 07:42:10","modifiedFileCount":"3","status":"M","submitter":"Gregory Chanan"},{"authorTime":"2017-06-01 03:04:40","codes":[{"authorDate":"2017-06-01 03:04:40","commitOrder":3,"curCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create(name,config,1,1,0,0) {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","date":"2017-06-01 03:04:40","endLine":192,"groupId":"29450","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"create1ShardCollection","params":"(Stringname@Stringconfig@MiniSolrCloudClustersolrCluster)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/18/4cd9018dbc56f4397770814bdd9abdd35fef3f.src","preCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create() {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setConfigName(config);\n    create.setCollectionName(name);\n    create.setNumShards(1);\n    create.setReplicationFactor(1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestSolrCloudWithSecureImpersonation.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":174,"status":"M"},{"authorDate":"2017-06-01 03:04:40","commitOrder":3,"curCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = CollectionAdminRequest.createCollection(name,config,2,1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","date":"2017-06-01 03:04:40","endLine":84,"groupId":"57921","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createCollection","params":"(Stringname@Stringconfig)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/fe/bbe335300a4789cbf6b99bd46dea0eab241fdf.src","preCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create();\n    create.setConfigName(config);\n    create.setCollectionName(name);\n    create.setNumShards(2);\n    create.setReplicationFactor(1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestRequestForwarding.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"3291ef884d26e3f8cb43707f2acdf674f3e51c01","commitMessage":"@@@Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/lucene-solr\n","date":"2017-06-01 03:04:40","modifiedFileCount":"29","status":"M","submitter":"Karl Wright"},{"authorTime":"2018-11-30 01:58:18","codes":[{"authorDate":"2018-11-30 01:58:18","commitOrder":4,"curCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create(name,config,1,1,0,0) {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    miniCluster.waitForActiveCollection(name, 1, 1);\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n  }\n","date":"2018-11-30 01:58:51","endLine":191,"groupId":"43105","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"create1ShardCollection","params":"(Stringname@Stringconfig@MiniSolrCloudClustersolrCluster)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/a1/49b33ab4a8b18fb9cf4334054fa124fe7f6cd4.src","preCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create(name,config,1,1,0,0) {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestSolrCloudWithSecureImpersonation.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":173,"status":"M"},{"authorDate":"2018-11-30 01:58:18","commitOrder":4,"curCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = CollectionAdminRequest.createCollection(name,config,2,1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    solrCluster.waitForActiveCollection(name, 2, 2);\n  }\n","date":"2018-11-30 01:58:51","endLine":84,"groupId":"57921","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"createCollection","params":"(Stringname@Stringconfig)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/a4/79e5fde65dcb993dbe04da0c974dba99c91739.src","preCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = CollectionAdminRequest.createCollection(name,config,2,1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    AbstractDistribZkTestBase.waitForRecoveriesToFinish(name, zkStateReader, false, true, 100);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestRequestForwarding.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"75b183196798232aa6f2dcaaaab117f309119053","commitMessage":"@@@SOLR-12801: Make massive improvements to the tests.\n\nSOLR-12804: Remove static modifier from Overseer queue access.\n\nSOLR-12896: Introduce more checks for shutdown and closed to improve clean close and shutdown. (Partial)\n\nSOLR-12897: Introduce AlreadyClosedException to clean up silly close / shutdown logging. (Partial)\n\nSOLR-12898: Replace cluster state polling with ZkStateReader#waitFor. (Partial)\n\nSOLR-12923: The new AutoScaling tests are way too flaky and need special attention. (Partial)\n\nSOLR-12932: ant test (without badapples=false) should pass easily for developers. (Partial)\n\nSOLR-12933: Fix SolrCloud distributed commit.\n","date":"2018-11-30 01:58:51","modifiedFileCount":"339","status":"M","submitter":"markrmiller"},{"authorTime":"2020-07-08 23:57:24","codes":[{"authorDate":"2020-07-08 23:57:24","commitOrder":5,"curCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create(name,config,1,1,0,0) {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    response = create.process(solrCluster.getSolrClient());\n\n    miniCluster.waitForActiveCollection(name, 1, 1);\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n  }\n","date":"2020-07-08 23:57:24","endLine":193,"groupId":"103245","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"create1ShardCollection","params":"(Stringname@Stringconfig@MiniSolrCloudClustersolrCluster)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/bc/18ddf6810ef913b2f688c9ea7c4475c0d8790c.src","preCode":"  private void create1ShardCollection(String name, String config, MiniSolrCloudCluster solrCluster) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = new CollectionAdminRequest.Create(name,config,1,1,0,0) {\n      @Override\n      public SolrParams getParams() {\n        ModifiableSolrParams msp = new ModifiableSolrParams(super.getParams());\n        msp.set(USER_PARAM, \"user\");\n        return msp;\n      }\n    };\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n\n    miniCluster.waitForActiveCollection(name, 1, 1);\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestSolrCloudWithSecureImpersonation.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":176,"status":"M"},{"authorDate":"2020-07-08 23:57:24","commitOrder":5,"curCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = CollectionAdminRequest.createCollection(name,config,2,1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    solrCluster.waitForActiveCollection(name, 2, 2);\n  }\n","date":"2020-07-08 23:57:24","endLine":83,"groupId":"103245","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"createCollection","params":"(Stringname@Stringconfig)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/45/ac57777ecc2f46c669a7234edd1f47b589a9b9.src","preCode":"  private void createCollection(String name, String config) throws Exception {\n    CollectionAdminResponse response;\n    CollectionAdminRequest.Create create = CollectionAdminRequest.createCollection(name,config,2,1);\n    create.setMaxShardsPerNode(1);\n    response = create.process(solrCluster.getSolrClient());\n    \n    if (response.getStatus() != 0 || response.getErrorMessages() != null) {\n      fail(\"Could not create collection. Response\" + response.toString());\n    }\n    ZkStateReader zkStateReader = solrCluster.getSolrClient().getZkStateReader();\n    solrCluster.waitForActiveCollection(name, 2, 2);\n  }\n","realPath":"solr/core/src/test/org/apache/solr/cloud/TestRequestForwarding.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":73,"status":"M"}],"commitId":"cf742f45963f4747e7041e8131248bc3a2b44864","commitMessage":"@@@SOLR-12847: Remove support for maxShardsPerNode.\n","date":"2020-07-08 23:57:24","modifiedFileCount":"144","status":"M","submitter":"Andrzej Bialecki"}]
