[{"authorTime":"2021-07-08 15:07:27","codes":[{"authorDate":"2021-07-08 15:07:27","commitOrder":1,"curCode":"  public void testDataSourceWriterEmptyExtraCommitMetadata() throws Exception {\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(\"keyA\", \"valA\");\n    extraMeta.put(\"keyB\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\");\n    \r\n    testDataSourceWriterInternal(extraMeta, Collections.EMPTY_MAP);\n  }\n","date":"2021-07-08 15:07:27","endLine":141,"groupId":"248","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDataSourceWriterEmptyExtraCommitMetadata","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/a9/caebfa2ccb3a0d9cfe7a37d9107e2963f7a923.src","preCode":"  public void testDataSourceWriterEmptyExtraCommitMetadata() throws Exception {\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(\"keyA\", \"valA\");\n    extraMeta.put(\"keyB\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\");\n    \r\n    testDataSourceWriterInternal(extraMeta, Collections.EMPTY_MAP);\n  }\n","realPath":"hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":132,"status":"B"},{"authorDate":"2021-07-08 15:07:27","commitOrder":1,"curCode":"  public void testDataSourceWriterExtraCommitMetadata() throws Exception {\n\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(commitExtraMetaPrefix + \"a\", \"valA\");\n    extraMeta.put(commitExtraMetaPrefix + \"b\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\"); \r\n\n    Map<String, String> expectedMetadata = new HashMap<>();\n    expectedMetadata.putAll(extraMeta);\n    expectedMetadata.remove(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key());\n    expectedMetadata.remove(\"commit_extra_c\");\n\n    testDataSourceWriterInternal(extraMeta, expectedMetadata);\n  }\n","date":"2021-07-08 15:07:27","endLine":126,"groupId":"4296","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testDataSourceWriterExtraCommitMetadata","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/e4/98febc66a159991feb78f631d0f9b629ef208c.src","preCode":"  public void testDataSourceWriterExtraCommitMetadata() throws Exception {\n\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(commitExtraMetaPrefix + \"a\", \"valA\");\n    extraMeta.put(commitExtraMetaPrefix + \"b\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\"); \r\n\n    Map<String, String> expectedMetadata = new HashMap<>();\n    expectedMetadata.putAll(extraMeta);\n    expectedMetadata.remove(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key());\n    expectedMetadata.remove(\"commit_extra_c\");\n\n    testDataSourceWriterInternal(extraMeta, expectedMetadata);\n  }\n","realPath":"hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":111,"status":"B"}],"commitId":"8c0dbaa9b3b6ced3826d0bc04e0a91272bbcab73","commitMessage":"@@@[HUDI-2009] Fixing extra commit metadata in row writer path (#3075)\n\n","date":"2021-07-08 15:07:27","modifiedFileCount":"12","status":"B","submitter":"Sivabalan Narayanan"},{"authorTime":"2021-07-20 08:43:48","codes":[{"authorDate":"2021-07-20 08:43:48","commitOrder":2,"curCode":"  public void testDataSourceWriterEmptyExtraCommitMetadata() throws Exception {\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(\"keyA\", \"valA\");\n    extraMeta.put(\"keyB\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\");\n    \r\n    testDataSourceWriterInternal(extraMeta, Collections.EMPTY_MAP, true);\n  }\n","date":"2021-07-20 08:43:48","endLine":153,"groupId":"248","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDataSourceWriterEmptyExtraCommitMetadata","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/3c/3866ee58f8a0c18b9d1b8dd9b3cb5bd528b940.src","preCode":"  public void testDataSourceWriterEmptyExtraCommitMetadata() throws Exception {\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(\"keyA\", \"valA\");\n    extraMeta.put(\"keyB\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\");\n    \r\n    testDataSourceWriterInternal(extraMeta, Collections.EMPTY_MAP);\n  }\n","realPath":"hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":144,"status":"M"},{"authorDate":"2021-07-20 08:43:48","commitOrder":2,"curCode":"  public void testDataSourceWriterExtraCommitMetadata() throws Exception {\n\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(commitExtraMetaPrefix + \"a\", \"valA\");\n    extraMeta.put(commitExtraMetaPrefix + \"b\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\"); \r\n\n    Map<String, String> expectedMetadata = new HashMap<>();\n    expectedMetadata.putAll(extraMeta);\n    expectedMetadata.remove(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key());\n    expectedMetadata.remove(\"commit_extra_c\");\n\n    testDataSourceWriterInternal(extraMeta, expectedMetadata, true);\n  }\n","date":"2021-07-20 08:43:48","endLine":139,"groupId":"4296","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testDataSourceWriterExtraCommitMetadata","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/34/2e2ae90ca5ca4ef04bfcd4bcb4a1fdf843e554.src","preCode":"  public void testDataSourceWriterExtraCommitMetadata() throws Exception {\n\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(commitExtraMetaPrefix + \"a\", \"valA\");\n    extraMeta.put(commitExtraMetaPrefix + \"b\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\"); \r\n\n    Map<String, String> expectedMetadata = new HashMap<>();\n    expectedMetadata.putAll(extraMeta);\n    expectedMetadata.remove(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key());\n    expectedMetadata.remove(\"commit_extra_c\");\n\n    testDataSourceWriterInternal(extraMeta, expectedMetadata);\n  }\n","realPath":"hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":124,"status":"M"}],"commitId":"d5026e9a24850bdcce9f6df3686bf2235d7d01c4","commitMessage":"@@@[HUDI-2161] Adding support to disable meta columns with bulk insert operation (#3247)\n\n","date":"2021-07-20 08:43:48","modifiedFileCount":"39","status":"M","submitter":"Sivabalan Narayanan"},{"authorTime":"2021-08-04 08:50:30","codes":[{"authorDate":"2021-08-04 08:50:30","commitOrder":3,"curCode":"  public void testDataSourceWriterEmptyExtraCommitMetadata() throws Exception {\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX().key(), commitExtraMetaPrefix);\n    extraMeta.put(\"keyA\", \"valA\");\n    extraMeta.put(\"keyB\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\");\n    \r\n    testDataSourceWriterInternal(extraMeta, Collections.EMPTY_MAP, true);\n  }\n","date":"2021-08-04 08:50:30","endLine":154,"groupId":"10121","id":5,"instanceNumber":1,"isCurCommit":1,"methodName":"testDataSourceWriterEmptyExtraCommitMetadata","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/17/6b67bbe98f41696f44446ac1e03beed52711ba.src","preCode":"  public void testDataSourceWriterEmptyExtraCommitMetadata() throws Exception {\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(\"keyA\", \"valA\");\n    extraMeta.put(\"keyB\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\");\n    \r\n    testDataSourceWriterInternal(extraMeta, Collections.EMPTY_MAP, true);\n  }\n","realPath":"hudi-spark-datasource/hudi-spark3/src/test/java/org/apache/hudi/spark3/internal/TestHoodieDataSourceInternalBatchWrite.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":145,"status":"M"},{"authorDate":"2021-08-04 08:50:30","commitOrder":3,"curCode":"  public void testDataSourceWriterExtraCommitMetadata() throws Exception {\n\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX().key(), commitExtraMetaPrefix);\n    extraMeta.put(commitExtraMetaPrefix + \"a\", \"valA\");\n    extraMeta.put(commitExtraMetaPrefix + \"b\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\"); \r\n\n    Map<String, String> expectedMetadata = new HashMap<>();\n    expectedMetadata.putAll(extraMeta);\n    expectedMetadata.remove(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX().key());\n    expectedMetadata.remove(\"commit_extra_c\");\n\n    testDataSourceWriterInternal(extraMeta, expectedMetadata, true);\n  }\n","date":"2021-08-04 08:50:30","endLine":140,"groupId":"10121","id":6,"instanceNumber":2,"isCurCommit":1,"methodName":"testDataSourceWriterExtraCommitMetadata","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-hudi-10-0.7/blobInfo/CC_OUT/blobs/04/162562e0c8121ce027542e85810da17b8fea44.src","preCode":"  public void testDataSourceWriterExtraCommitMetadata() throws Exception {\n\n    String commitExtraMetaPrefix = \"commit_extra_meta_\";\n    Map<String, String> extraMeta = new HashMap<>();\n    extraMeta.put(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key(), commitExtraMetaPrefix);\n    extraMeta.put(commitExtraMetaPrefix + \"a\", \"valA\");\n    extraMeta.put(commitExtraMetaPrefix + \"b\", \"valB\");\n    extraMeta.put(\"commit_extra_c\", \"valC\"); \r\n\n    Map<String, String> expectedMetadata = new HashMap<>();\n    expectedMetadata.putAll(extraMeta);\n    expectedMetadata.remove(DataSourceWriteOptions.COMMIT_METADATA_KEYPREFIX_OPT_KEY().key());\n    expectedMetadata.remove(\"commit_extra_c\");\n\n    testDataSourceWriterInternal(extraMeta, expectedMetadata, true);\n  }\n","realPath":"hudi-spark-datasource/hudi-spark2/src/test/java/org/apache/hudi/internal/TestHoodieDataSourceInternalWriter.java","repoName":"hudi","snippetEndLine":0,"snippetStartLine":0,"startLine":125,"status":"M"}],"commitId":"91bb0d13184c57ec08f02db3337e734bc20739c4","commitMessage":"@@@[HUDI-2255] Refactor Datasource options (#3373)\n\nCo-authored-by: Wenning Ding <wenningd@amazon.com>","date":"2021-08-04 08:50:30","modifiedFileCount":"50","status":"M","submitter":"wenningd"}]
