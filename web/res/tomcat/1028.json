[{"authorTime":"2011-03-31 05:40:59","codes":[{"authorDate":"2011-03-31 05:40:59","commitOrder":1,"curCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        tearDown();\n    }\n","date":"2011-03-31 05:40:59","endLine":93,"groupId":"10658","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testDBCPThreads20Connections10","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/b2/96eeefa5f0f72bbd6e63833961bca4bbd6e078.src","preCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/FairnessTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"B"},{"authorDate":"2011-03-31 05:40:59","commitOrder":1,"curCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        tearDown();\n    }\n","date":"2011-03-31 05:40:59","endLine":172,"groupId":"10658","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testPoolThreads20Connections10Fair","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/33/9e1aa49bf9e4ca86a5c5eb8fb2a4cd64ca73d7.src","preCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/ConnectCountTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":146,"status":"B"}],"commitId":"9b48dfd98aecd2b5d2c69dff3472f0a4409f6ffa","commitMessage":"@@@Add in ability to build with Maven\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1087090 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-03-31 05:40:59","modifiedFileCount":"0","status":"B","submitter":"Filip Hanik"},{"authorTime":"2011-09-08 22:54:52","codes":[{"authorDate":"2011-03-31 05:40:59","commitOrder":2,"curCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        tearDown();\n    }\n","date":"2011-03-31 05:40:59","endLine":93,"groupId":"10658","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testDBCPThreads20Connections10","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/b2/96eeefa5f0f72bbd6e63833961bca4bbd6e078.src","preCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/FairnessTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"N"},{"authorDate":"2011-09-08 22:54:52","commitOrder":2,"curCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n        tearDown();\n    }\n","date":"2011-09-08 22:54:52","endLine":174,"groupId":"10658","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testPoolThreads20Connections10Fair","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/bc/f4ad82f8965050cb0c2f2d8571adc45c6b355c.src","preCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/ConnectCountTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"M"}],"commitId":"9e7cb47a882a7436ec1be81d7f98118933f23ab7","commitMessage":"@@@Fix Eclipse warnings\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1166721 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-09-08 22:54:52","modifiedFileCount":"1","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2011-09-08 22:54:52","codes":[{"authorDate":"2011-09-08 23:14:43","commitOrder":3,"curCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n        tearDown();\n    }\n","date":"2011-09-08 23:14:43","endLine":93,"groupId":"10658","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testDBCPThreads20Connections10","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/a5/fe9fafbb81275fd6ab2bf8f1f67984fa406a28.src","preCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/FairnessTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":66,"status":"M"},{"authorDate":"2011-09-08 22:54:52","commitOrder":3,"curCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n        tearDown();\n    }\n","date":"2011-09-08 22:54:52","endLine":174,"groupId":"10658","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testPoolThreads20Connections10Fair","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/bc/f4ad82f8965050cb0c2f2d8571adc45c6b355c.src","preCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n            \n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/ConnectCountTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":147,"status":"N"}],"commitId":"9b93c31f38fc89bc455738b8bb20e7f69eb09f6b","commitMessage":"@@@Fix remaining Eclipse warnings in jdbc-pool unit tests\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1166735 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2011-09-08 23:14:43","modifiedFileCount":"7","status":"M","submitter":"Mark Emlyn David Thomas"},{"authorTime":"2013-01-20 07:41:16","codes":[{"authorDate":"2013-01-20 07:41:16","commitOrder":4,"curCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n\n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n    }\n","date":"2013-01-20 07:41:16","endLine":85,"groupId":"1028","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"testDBCPThreads20Connections10","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/1c/282df8cd98efc2ff14488372c42be133321229.src","preCode":"    public void testDBCPThreads20Connections10() throws Exception {\n        System.out.println(\"[testDBCPThreads20Connections10] Starting fairness - DBCP\");\n        init();\n        this.datasource.getPoolProperties().setMaxActive(10);\n        this.threadcount = 20;\n        this.transferProperties();\n        this.tDatasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-dbcp-\"+i);\n            threads[i].d = this.tDatasource;\n\n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testDBCPThreads20Connections10\",this.tDatasource.getNumActive(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/FairnessTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":60,"status":"M"},{"authorDate":"2013-01-20 07:41:16","commitOrder":4,"curCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n\n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n    }\n","date":"2013-01-20 07:41:16","endLine":163,"groupId":"1028","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"testPoolThreads20Connections10Fair","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-tomcat-10-0.7/blobInfo/CC_OUT/blobs/5a/0a71fc09c0178e8c79768bbd7ea366ab7ce7c9.src","preCode":"    public void testPoolThreads20Connections10Fair() throws Exception {\n        System.out.println(\"[testPoolThreads20Connections10Fair] Starting fairness - Tomcat JDBC - Fair\");\n        init();\n        this.threadcount = 20;\n        this.datasource.getPoolProperties().setFairQueue(true);\n        this.transferProperties();\n        this.datasource.getConnection().close();\n        latch = new CountDownLatch(threadcount);\n        long start = System.currentTimeMillis();\n        TestThread[] threads = new TestThread[threadcount];\n        for (int i=0; i<threadcount; i++) {\n            threads[i] = new TestThread();\n            threads[i].setName(\"tomcat-pool-\"+i);\n            threads[i].d = this.datasource;\n\n        }\n        for (int i=0; i<threadcount; i++) {\n            threads[i].start();\n        }\n        if (!latch.await(complete+1000,TimeUnit.MILLISECONDS)) {\n            System.out.println(\"Latch timed out.\");\n        }\n        this.run = false;\n        long delta = System.currentTimeMillis() - start;\n        printThreadResults(threads,\"testPoolThreads20Connections10Fair\",Driver.connectCount.get(),10);\n        System.out.println(\"Test completed in: \" + delta + \"ms.\");\n        tearDown();\n    }\n","realPath":"modules/jdbc-pool/src/test/java/org/apache/tomcat/jdbc/test/ConnectCountTest.java","repoName":"tomcat","snippetEndLine":0,"snippetStartLine":0,"startLine":138,"status":"M"}],"commitId":"e1d07255aabaf8d211f885c8619fcb69e502b2c4","commitMessage":"@@@Convert to JUnit 4\n\ngit-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1435759 13f79535-47bb-0310-9956-ffa450edef68\n","date":"2013-01-20 07:41:16","modifiedFileCount":"31","status":"M","submitter":"Mark Emlyn David Thomas"}]
