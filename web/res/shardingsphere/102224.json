[{"authorTime":"2021-08-02 17:49:58","codes":[{"authorDate":"2021-08-02 17:49:58","commitOrder":1,"curCode":"    private Optional<MetricsWrapper> createHistogram(final Map metric) {\n        Histogram.Builder builder = Histogram.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        if (null != getProps(metric)) {\n            parserHistogramProps(builder, getProps(metric));\n        }\n        Histogram histogram = builder.register();\n        HistogramWrapper wrapper = new HistogramWrapper(histogram);\n        return Optional.of(wrapper);\n    }\n","date":"2021-08-02 17:49:58","endLine":113,"groupId":"14173","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"createHistogram","params":"(finalMapmetric)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/b7/7093eeec6f119ace512cf3118e15afd72391bb.src","preCode":"    private Optional<MetricsWrapper> createHistogram(final Map metric) {\n        Histogram.Builder builder = Histogram.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        if (null != getProps(metric)) {\n            parserHistogramProps(builder, getProps(metric));\n        }\n        Histogram histogram = builder.register();\n        HistogramWrapper wrapper = new HistogramWrapper(histogram);\n        return Optional.of(wrapper);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-prometheus/src/main/java/org/apache/shardingsphere/agent/metrics/prometheus/wrapper/PrometheusWrapperFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":100,"status":"B"},{"authorDate":"2021-08-02 17:49:58","commitOrder":1,"curCode":"    private Optional<MetricsWrapper> createSummary(final Map metric) {\n        Summary.Builder builder = Summary.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        Summary summary = builder.register();\n        SummaryWrapper wrapper = new SummaryWrapper(summary);\n        return Optional.of(wrapper);\n    }\n","date":"2021-08-02 17:49:58","endLine":125,"groupId":"6961","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createSummary","params":"(finalMapmetric)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/b7/7093eeec6f119ace512cf3118e15afd72391bb.src","preCode":"    private Optional<MetricsWrapper> createSummary(final Map metric) {\n        Summary.Builder builder = Summary.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        Summary summary = builder.register();\n        SummaryWrapper wrapper = new SummaryWrapper(summary);\n        return Optional.of(wrapper);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-prometheus/src/main/java/org/apache/shardingsphere/agent/metrics/prometheus/wrapper/PrometheusWrapperFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":115,"status":"B"}],"commitId":"fcad18cd188a1a15d723a1a9de774445f0cf5b31","commitMessage":"@@@Refactor the metrics module in agent plugin and add transfer bytes metrics (#11585)\n\n* Refactor the metrics module in agent plugin and add request/response metrics\n\n* Change some parameters settings and fix some code style\n\n* Add some test cases.\n\n* Change ProxyInfoCollectorTest test cases.","date":"2021-08-02 17:49:58","modifiedFileCount":"16","status":"B","submitter":"Dachuan J"},{"authorTime":"2021-08-13 19:38:46","codes":[{"authorDate":"2021-08-13 19:38:46","commitOrder":2,"curCode":"    protected Optional<MetricsWrapper> createHistogram(final Map metric) {\n        Histogram.Builder builder = Histogram.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        if (null != getProps(metric)) {\n            parserHistogramProps(builder, getProps(metric));\n        }\n        Histogram histogram = builder.register();\n        HistogramWrapper wrapper = new HistogramWrapper(histogram);\n        return Optional.of(wrapper);\n    }\n","date":"2021-08-13 19:38:46","endLine":147,"groupId":"14173","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"createHistogram","params":"(finalMapmetric)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/e4/ee864241b58e9ce6c82a659aa1fd0b6dcc084b.src","preCode":"    private Optional<MetricsWrapper> createHistogram(final Map metric) {\n        Histogram.Builder builder = Histogram.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        if (null != getProps(metric)) {\n            parserHistogramProps(builder, getProps(metric));\n        }\n        Histogram histogram = builder.register();\n        HistogramWrapper wrapper = new HistogramWrapper(histogram);\n        return Optional.of(wrapper);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-prometheus/src/main/java/org/apache/shardingsphere/agent/metrics/prometheus/wrapper/PrometheusWrapperFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":134,"status":"M"},{"authorDate":"2021-08-13 19:38:46","commitOrder":2,"curCode":"    protected Optional<MetricsWrapper> createSummary(final Map metric) {\n        Summary.Builder builder = Summary.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        Summary summary = builder.register();\n        SummaryWrapper wrapper = new SummaryWrapper(summary);\n        return Optional.of(wrapper);\n    }\n","date":"2021-08-13 19:38:46","endLine":159,"groupId":"6961","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createSummary","params":"(finalMapmetric)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/e4/ee864241b58e9ce6c82a659aa1fd0b6dcc084b.src","preCode":"    private Optional<MetricsWrapper> createSummary(final Map metric) {\n        Summary.Builder builder = Summary.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        Summary summary = builder.register();\n        SummaryWrapper wrapper = new SummaryWrapper(summary);\n        return Optional.of(wrapper);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-prometheus/src/main/java/org/apache/shardingsphere/agent/metrics/prometheus/wrapper/PrometheusWrapperFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":149,"status":"M"}],"commitId":"6433e6036ceccc997cc522f5f0bfd6b34499cc28","commitMessage":"@@@Refactor metrics (#11804)\n\n","date":"2021-08-13 19:38:46","modifiedFileCount":"5","status":"M","submitter":"Dachuan J"},{"authorTime":"2021-08-15 18:31:45","codes":[{"authorDate":"2021-08-15 18:31:45","commitOrder":3,"curCode":"    private Optional<MetricsWrapper> createHistogram(final Map<String, Object> metric) {\n        Histogram.Builder builder = Histogram.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).toArray(new String[0]));\n        }\n        if (null != getProps(metric)) {\n            parserHistogramProps(builder, getProps(metric));\n        }\n        Histogram histogram = builder.register();\n        HistogramWrapper wrapper = new HistogramWrapper(histogram);\n        return Optional.of(wrapper);\n    }\n","date":"2021-08-15 18:31:45","endLine":157,"groupId":"102224","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"createHistogram","params":"(finalMap<String@Object>metric)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/68/17363a9581315c9d3645f722d8a9c039b0f58b.src","preCode":"    protected Optional<MetricsWrapper> createHistogram(final Map metric) {\n        Histogram.Builder builder = Histogram.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        if (null != getProps(metric)) {\n            parserHistogramProps(builder, getProps(metric));\n        }\n        Histogram histogram = builder.register();\n        HistogramWrapper wrapper = new HistogramWrapper(histogram);\n        return Optional.of(wrapper);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-prometheus/src/main/java/org/apache/shardingsphere/agent/metrics/prometheus/wrapper/PrometheusWrapperFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":144,"status":"M"},{"authorDate":"2021-08-15 18:31:45","commitOrder":3,"curCode":"    private Optional<MetricsWrapper> createSummary(final Map<String, Object> metric) {\n        Summary.Builder builder = Summary.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).toArray(new String[0]));\n        }\n        Summary summary = builder.register();\n        SummaryWrapper wrapper = new SummaryWrapper(summary);\n        return Optional.of(wrapper);\n    }\n","date":"2021-08-15 18:31:45","endLine":169,"groupId":"102224","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"createSummary","params":"(finalMap<String@Object>metric)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-shardingsphere-10-0.7/blobInfo/CC_OUT/blobs/68/17363a9581315c9d3645f722d8a9c039b0f58b.src","preCode":"    protected Optional<MetricsWrapper> createSummary(final Map metric) {\n        Summary.Builder builder = Summary.build()\n                .name(getName(metric))\n                .help(getHelp(metric));\n        if (null != getLabels(metric)) {\n            builder.labelNames(getLabels(metric).stream().toArray(String[]::new));\n        }\n        Summary summary = builder.register();\n        SummaryWrapper wrapper = new SummaryWrapper(summary);\n        return Optional.of(wrapper);\n    }\n","realPath":"shardingsphere-agent/shardingsphere-agent-plugins/shardingsphere-agent-plugin-metrics/shardingsphere-agent-metrics-prometheus/src/main/java/org/apache/shardingsphere/agent/metrics/prometheus/wrapper/PrometheusWrapperFactory.java","repoName":"shardingsphere","snippetEndLine":0,"snippetStartLine":0,"startLine":159,"status":"M"}],"commitId":"11b86de893b6597f1661a171957ab37c019c1eba","commitMessage":"@@@Fix code warnings (#11828)\n\n","date":"2021-08-15 18:31:45","modifiedFileCount":"14","status":"M","submitter":"Dachuan J"}]
