[{"authorTime":"2018-09-11 16:55:56","codes":[{"authorDate":"2018-09-11 16:55:56","commitOrder":8,"curCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDirectory.TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(\"title\", \"test title\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n    }\n","date":"2018-09-11 16:55:56","endLine":84,"groupId":"8471","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"cleanupRenamePdfRenamesWithMultipleFiles","params":"(@TempDirectory.TempDirPathtestFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/eb/027f824d08435a6d2e209bd76cce1890456f88.src","preCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDirectory.TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(\"title\", \"test title\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/RenamePdfCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":69,"status":"MB"},{"authorDate":"2018-09-11 16:55:56","commitOrder":8,"curCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","date":"2018-09-11 16:55:56","endLine":97,"groupId":"525","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"movesFileWithMulitpleLinked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/9e/9d21bfbd04ff4211c3b3d756b4276746a33c50.src","preCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/MoveFilesCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"B"}],"commitId":"4c3e520a32f986e0df8a6b7187cf6b2dfe322ccc","commitMessage":"@@@Fix that \"Rename and move file\" throws file not found exception (#4317)\n\n* Fix that \"Rename and move file\" throws file not found exception\n\nFixes #4307. Moreover.  I refactored a bit how files are renamed/moved to the default file directory. This should make it easier to reuse the code.\n\n* Fix tests\n","date":"2018-09-11 16:55:56","modifiedFileCount":"62","status":"M","submitter":"Tobias Diez"},{"authorTime":"2018-09-11 16:55:56","codes":[{"authorDate":"2019-02-09 22:36:12","commitOrder":9,"curCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(\"title\", \"test title\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n    }\n","date":"2019-02-09 22:36:12","endLine":82,"groupId":"8471","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"cleanupRenamePdfRenamesWithMultipleFiles","params":"(@TempDirPathtestFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/53/449106ff4c89497365b7c50459f595206e1501.src","preCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDirectory.TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(\"title\", \"test title\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/RenamePdfCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"M"},{"authorDate":"2018-09-11 16:55:56","commitOrder":9,"curCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","date":"2018-09-11 16:55:56","endLine":97,"groupId":"525","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"movesFileWithMulitpleLinked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/9e/9d21bfbd04ff4211c3b3d756b4276746a33c50.src","preCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/MoveFilesCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":82,"status":"N"}],"commitId":"71e02379a068756a3885aa22161337255683fca3","commitMessage":"@@@Fix for issue 4641: Remove usage of TempDirectory extension from junit-pioneer (#4644)\n\n* Removed the TempDirectory extension from junit-pioneer with the built in\nextension of junit 5.4\n\n* Removed unused import\n","date":"2019-02-09 22:36:12","modifiedFileCount":"23","status":"M","submitter":"Akash Deep"},{"authorTime":"2019-08-02 15:20:10","codes":[{"authorDate":"2019-08-02 15:20:10","commitOrder":10,"curCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","date":"2019-08-02 15:20:10","endLine":83,"groupId":"8471","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"cleanupRenamePdfRenamesWithMultipleFiles","params":"(@TempDirPathtestFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/81/96a580a431b7767a25d45d82c48c56b8853fe7.src","preCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(\"title\", \"test title\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/RenamePdfCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":68,"status":"M"},{"authorDate":"2019-08-02 15:20:10","commitOrder":10,"curCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","date":"2019-08-02 15:20:10","endLine":96,"groupId":"525","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"movesFileWithMulitpleLinked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/72/7da151fe01a9b1aa16e9a2167b794fb3471446.src","preCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(\"file\", FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(\"file\"));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/MoveFilesCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":81,"status":"M"}],"commitId":"4b39b78e4afcd6c36b385f5c46f1d9a4eac2e29b","commitMessage":"@@@Move to extended enums for fields and entry types (#5148)\n\n* Introduce interface for fields\n\n* Continue using fields interface instead of strings\n\n* Introduce OrFields class\n\n* Move FieldProperty\n\n* Convert entry types to extended enum\n\n* Start fixing build\n\n* Fix build\n\n* Start fixing tests\n\n* Everything compiles again\n\n* Make model tests pass\n\n* Fix most tests\n\n* Fix build\n\n* Fix a few more tests\n\n* Fix a few more tests\n\n* Fix a few more tests\n\n* Fix a few more tests\n\n* Fix checkstyle issues\n\n* Fix more tests\n\n* Fix more tests\n\n* Disable test that fails on CI\n\n* Disable test that fails on CI\n","date":"2019-08-02 15:20:10","modifiedFileCount":"439","status":"M","submitter":"Tobias Diez"},{"authorTime":"2020-09-01 20:20:10","codes":[{"authorDate":"2019-08-02 15:20:10","commitOrder":11,"curCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","date":"2019-08-02 15:20:10","endLine":83,"groupId":"8471","id":7,"instanceNumber":1,"isCurCommit":0,"methodName":"cleanupRenamePdfRenamesWithMultipleFiles","params":"(@TempDirPathtestFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/81/96a580a431b7767a25d45d82c48c56b8853fe7.src","preCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/RenamePdfCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":68,"status":"N"},{"authorDate":"2020-09-01 20:20:10","commitOrder":11,"curCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirectoryPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","date":"2020-09-01 20:20:10","endLine":99,"groupId":"525","id":8,"instanceNumber":2,"isCurCommit":0,"methodName":"movesFileWithMulitpleLinked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/63/246e9f04dcd447ec2ecd47e8b3eee86a6674f5.src","preCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/MoveFilesCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"M"}],"commitId":"5ab494e8b1732f688d4ed8d696740bc7e8ef4101","commitMessage":"@@@Refactor file preferences (#6779)\n\n* Refactored for same basic clean-up and naming consistency\n\n* Refactored for more clean-ups and naming consistency\n\n* Refactored and extended AutoLinkPreferences\n\n* Refactored FilePreferences to immutable class\n\n* Refactored two preferences from AutoLinkPreferences to FilePreferences\n\n* Moved import linked file patterns preferences to FilePreferencesTab\n\n* Extended FilePreferences and refactored FileTab to use it\n\n* Checkstyle\n\n* Fixed merge error\n\n* Moved import-export preferences to exportSortingTab and renamed the tab\n\n* Renamed FileTab to LinkedFilesTab\n\n* Refactored ImportExportTab to PreferencesService\n\n* CHANGELOG.md\n\n* Rewording ImportExport to File\n\n* Make FilePreferences and SavePreferences mutable.  added ADR\n","date":"2020-09-01 20:20:10","modifiedFileCount":"28","status":"M","submitter":"Carl Christian Snethlage"},{"authorTime":"2020-09-01 20:20:10","codes":[{"authorDate":"2020-09-08 21:34:34","commitOrder":12,"curCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[citationkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","date":"2020-09-08 21:34:34","endLine":82,"groupId":"8471","id":9,"instanceNumber":1,"isCurCommit":0,"methodName":"cleanupRenamePdfRenamesWithMultipleFiles","params":"(@TempDirPathtestFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/c2/cd3e87ff89e8dc72950a8449e8e6de0614990c.src","preCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[bibtexkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/RenamePdfCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"M"},{"authorDate":"2020-09-01 20:20:10","commitOrder":12,"curCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirectoryPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","date":"2020-09-01 20:20:10","endLine":99,"groupId":"525","id":10,"instanceNumber":2,"isCurCommit":0,"methodName":"movesFileWithMulitpleLinked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/63/246e9f04dcd447ec2ecd47e8b3eee86a6674f5.src","preCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirectoryPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/MoveFilesCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"N"}],"commitId":"6dec1747d8a1c89f6c62fc1d1939d88411f17eba","commitMessage":"@@@Complete rebranding of `bibtexkey` as `citationkey` (#6875)\n\n","date":"2020-09-08 21:34:34","modifiedFileCount":"127","status":"M","submitter":"Tobias Diez"},{"authorTime":"2020-09-26 05:39:50","codes":[{"authorDate":"2020-09-26 05:39:50","commitOrder":13,"curCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(\n                        new LinkedFile(\"\", Path.of(\"\"), \"\"),\n                        new LinkedFile(\"\", path.toAbsolutePath(), \"\"),\n                        new LinkedFile(\"\", Path.of(\"\"), \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[citationkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(Optional.of(FileFieldWriter.getStringRepresentation(\n                Arrays.asList(\n                        new LinkedFile(\"\", Path.of(\"\"), \"\"),\n                        new LinkedFile(\"\", Path.of(\"Toot - test title.tmp\"), \"\"),\n                        new LinkedFile(\"\", Path.of(\"\"), \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","date":"2020-09-26 05:39:50","endLine":87,"groupId":"10549","id":11,"instanceNumber":1,"isCurCommit":1,"methodName":"cleanupRenamePdfRenamesWithMultipleFiles","params":"(@TempDirPathtestFolder)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/bd/47aa164718cb9ca2484986b9f010a12a4b3c58.src","preCode":"    void cleanupRenamePdfRenamesWithMultipleFiles(@TempDir Path testFolder) throws IOException {\n        Path path = testFolder.resolve(\"Toot.tmp\");\n        Files.createFile(path);\n\n        entry.setField(StandardField.TITLE, \"test title\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", path.toAbsolutePath().toString(), \"\"), new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileNamePattern()).thenReturn(\"[citationkey] - [fulltitle]\");\n        cleanup.cleanup(entry);\n\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"Toot - test title.tmp\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/RenamePdfCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":67,"status":"M"},{"authorDate":"2020-09-26 05:39:50","commitOrder":13,"curCode":"    void movesFileWithMulitpleLinked() {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(Arrays.asList(\n                new LinkedFile(\"\", Path.of(\"\"), \"\"),\n                fileField,\n                new LinkedFile(\"\", Path.of(\"\"), \"\"))));\n\n        when(filePreferences.getFileDirectoryPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(\n                                new LinkedFile(\"\", Path.of(\"\"), \"\"),\n                                new LinkedFile(\"\", Path.of(\"test.pdf\"), \"\"),\n                                new LinkedFile(\"\", Path.of(\"\"), \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","date":"2020-09-26 05:39:50","endLine":104,"groupId":"10549","id":12,"instanceNumber":2,"isCurCommit":1,"methodName":"movesFileWithMulitpleLinked","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-jabref-10-0.7/blobInfo/CC_OUT/blobs/1c/96bd826589a5b99b756f2424d29850c688a345.src","preCode":"    void movesFileWithMulitpleLinked() throws Exception {\n        LinkedFile fileField = new LinkedFile(\"\", fileBefore.toAbsolutePath().toString(), \"\");\n        entry.setField(StandardField.FILE, FileFieldWriter.getStringRepresentation(\n                Arrays.asList(new LinkedFile(\"\", \"\", \"\"), fileField, new LinkedFile(\"\", \"\", \"\"))));\n\n        when(filePreferences.getFileDirectoryPattern()).thenReturn(\"\");\n        cleanup.cleanup(entry);\n\n        Path fileAfter = defaultFileFolder.resolve(\"test.pdf\");\n        assertEquals(\n                Optional.of(FileFieldWriter.getStringRepresentation(\n                        Arrays.asList(new LinkedFile(\"\", \"\", \"\"), new LinkedFile(\"\", \"test.pdf\", \"\"), new LinkedFile(\"\", \"\", \"\")))),\n                entry.getField(StandardField.FILE));\n        assertFalse(Files.exists(fileBefore));\n        assertTrue(Files.exists(fileAfter));\n    }\n","realPath":"src/test/java/org/jabref/logic/cleanup/MoveFilesCleanupTest.java","repoName":"jabref","snippetEndLine":0,"snippetStartLine":0,"startLine":84,"status":"M"}],"commitId":"3123090b6cf44e853eceae42854d49e78e81be2a","commitMessage":"@@@Changed default value of \"search and store files relative to bibtex file\" to true (#6928)\n\n* Fixes #6863\n\n* CHANGELOG.md\n\n* Reworded bibLocationAsPrimary to reflect real meaning of the preference setting.  changed default val to true\n\n* Cleanup of deprecated methods LinkedFiles(String.  String.  String) and List<String> getFileDirectories(...)\n\n* Reworded package filelist to linkedfile\n\n* Fixed SpringerFetcher","date":"2020-09-26 05:39:50","modifiedFileCount":"45","status":"M","submitter":"Carl Christian Snethlage"}]
