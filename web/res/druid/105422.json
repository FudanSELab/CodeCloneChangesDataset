[{"authorTime":"2020-09-27 14:30:14","codes":[{"authorDate":"2020-09-27 14:30:14","commitOrder":1,"curCode":"  public static <T> ExprVectorProcessor<T> copySign(Expr.VectorInputBindingTypes inputTypes, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inputTypes,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.copySign((double) left, (double) right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.copySign((double) left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.copySign(left, (double) right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.copySign(left, right);\n          }\n        }\n    );\n  }\n","date":"2020-09-27 14:30:14","endLine":908,"groupId":"22007","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"copySign","params":"(Expr.VectorInputBindingTypesinputTypes@Exprleft@Exprright)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/bd/33e8d2f25d143026290983f030632e9699eb92.src","preCode":"  public static <T> ExprVectorProcessor<T> copySign(Expr.VectorInputBindingTypes inputTypes, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inputTypes,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.copySign((double) left, (double) right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.copySign((double) left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.copySign(left, (double) right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.copySign(left, right);\n          }\n        }\n    );\n  }\n","realPath":"core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":853,"status":"B"},{"authorDate":"2020-09-27 14:30:14","commitOrder":1,"curCode":"  public static <T> ExprVectorProcessor<T> hypot(Expr.VectorInputBindingTypes inputTypes, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inputTypes,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        }\n    );\n  }\n","date":"2020-09-27 14:30:14","endLine":965,"groupId":"22007","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"hypot","params":"(Expr.VectorInputBindingTypesinputTypes@Exprleft@Exprright)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/bd/33e8d2f25d143026290983f030632e9699eb92.src","preCode":"  public static <T> ExprVectorProcessor<T> hypot(Expr.VectorInputBindingTypes inputTypes, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inputTypes,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        }\n    );\n  }\n","realPath":"core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":910,"status":"B"}],"commitId":"3d700a5e31eaea131f1152e90b6c78a572edd7fc","commitMessage":"@@@vectorize remaining math expressions (#10429)\n\n* vectorize remaining math expressions\n\n* fixes\n\n* remove cannotVectorize() where no longer true\n\n* disable vectorized groupby for numeric columns with nulls\n\n* fixes","date":"2020-09-27 14:30:14","modifiedFileCount":"11","status":"B","submitter":"Clint Wylie"},{"authorTime":"2020-10-27 10:55:24","codes":[{"authorDate":"2020-10-27 10:55:24","commitOrder":2,"curCode":"  public static <T> ExprVectorProcessor<T> copySign(Expr.VectorInputBindingInspector inspector, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inspector,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.copySign((double) left, (double) right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.copySign((double) left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.copySign(left, (double) right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.copySign(left, right);\n          }\n        }\n    );\n  }\n","date":"2020-10-27 10:55:24","endLine":931,"groupId":"105422","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"copySign","params":"(Expr.VectorInputBindingInspectorinspector@Exprleft@Exprright)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/c1/a9888466a0bcac0168e7d5346fc02e60ee9caf.src","preCode":"  public static <T> ExprVectorProcessor<T> copySign(Expr.VectorInputBindingTypes inputTypes, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inputTypes,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.copySign((double) left, (double) right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.copySign((double) left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.copySign(left, (double) right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.copySign(left, right);\n          }\n        }\n    );\n  }\n","realPath":"core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":876,"status":"M"},{"authorDate":"2020-10-27 10:55:24","commitOrder":2,"curCode":"  public static <T> ExprVectorProcessor<T> hypot(Expr.VectorInputBindingInspector inspector, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inspector,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inspector),\n            right.buildVectorized(inspector),\n            inspector.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        }\n    );\n  }\n","date":"2020-10-27 10:55:24","endLine":988,"groupId":"105422","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"hypot","params":"(Expr.VectorInputBindingInspectorinspector@Exprleft@Exprright)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-druid-10-0.7/blobInfo/CC_OUT/blobs/c1/a9888466a0bcac0168e7d5346fc02e60ee9caf.src","preCode":"  public static <T> ExprVectorProcessor<T> hypot(Expr.VectorInputBindingTypes inputTypes, Expr left, Expr right)\n  {\n    return makeDoubleMathProcessor(\n        inputTypes,\n        left,\n        right,\n        () -> new DoubleOutLongsInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutLongDoubleInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(long left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoubleLongInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, long right)\n          {\n            return Math.hypot(left, right);\n          }\n        },\n        () -> new DoubleOutDoublesInFunctionVectorProcessor(\n            left.buildVectorized(inputTypes),\n            right.buildVectorized(inputTypes),\n            inputTypes.getMaxVectorSize()\n        )\n        {\n          @Override\n          public double apply(double left, double right)\n          {\n            return Math.hypot(left, right);\n          }\n        }\n    );\n  }\n","realPath":"core/src/main/java/org/apache/druid/math/expr/vector/VectorMathProcessors.java","repoName":"druid","snippetEndLine":0,"snippetStartLine":0,"startLine":933,"status":"M"}],"commitId":"d0821de8540686eb64a9b3e22fe4a637b58920ef","commitMessage":"@@@support for vectorizing expressions with non-existent inputs.  more consistent type handling for non-vectorized expressions (#10499)\n\n* support for vectorizing expressions with non-existent inputs.  more consistent type handling for non-vectorized expressions\n\n* inspector\n\n* changes\n\n* more test\n\n* clean","date":"2020-10-27 10:55:24","modifiedFileCount":"56","status":"M","submitter":"Clint Wylie"}]
