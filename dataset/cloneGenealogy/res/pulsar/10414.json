[{"authorTime":"2020-12-08 20:45:09","codes":[{"authorDate":"2018-01-26 15:22:49","commitOrder":3,"curCode":"    public CmdNonPersistentTopics(PulsarAdmin admin) {\n        super(\"non-persistent\", admin);\n        nonPersistentTopics = admin.nonPersistentTopics();\n\n        jcommander.addCommand(\"create-partitioned-topic\", new CreatePartitionedCmd());\n        jcommander.addCommand(\"lookup\", new Lookup());\n        jcommander.addCommand(\"stats\", new GetStats());\n        jcommander.addCommand(\"stats-internal\", new GetInternalStats());\n        jcommander.addCommand(\"get-partitioned-topic-metadata\", new GetPartitionedTopicMetadataCmd());\n        jcommander.addCommand(\"list\", new GetList());\n        jcommander.addCommand(\"list-in-bundle\", new GetListInBundle());\n    }\n","date":"2018-01-26 15:22:49","endLine":43,"groupId":"13579","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"CmdNonPersistentTopics","params":"(PulsarAdminadmin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/e0/9e4de693d24b28e9c96c376321672d1e134c71.src","preCode":"    public CmdNonPersistentTopics(PulsarAdmin admin) {\n        super(\"non-persistent\", admin);\n        nonPersistentTopics = admin.nonPersistentTopics();\n\n        jcommander.addCommand(\"create-partitioned-topic\", new CreatePartitionedCmd());\n        jcommander.addCommand(\"lookup\", new Lookup());\n        jcommander.addCommand(\"stats\", new GetStats());\n        jcommander.addCommand(\"stats-internal\", new GetInternalStats());\n        jcommander.addCommand(\"get-partitioned-topic-metadata\", new GetPartitionedTopicMetadataCmd());\n        jcommander.addCommand(\"list\", new GetList());\n        jcommander.addCommand(\"list-in-bundle\", new GetListInBundle());\n    }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNonPersistentTopics.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":32,"status":"NB"},{"authorDate":"2020-12-08 20:45:09","commitOrder":3,"curCode":"    CmdPackages(PulsarAdmin admin) {\n        super(\"packages\", admin);\n        this.packages = admin.packages();\n\n        jcommander.addCommand(\"get-metadata\", new GetMetadataCmd());\n        jcommander.addCommand(\"update-metadata\", new UpdateMetadataCmd());\n        jcommander.addCommand(\"upload\", new UploadCmd());\n        jcommander.addCommand(\"download\", new DownloadCmd());\n        jcommander.addCommand(\"list\", new ListPackagesCmd());\n        jcommander.addCommand(\"list-versions\", new ListPackageVersionsCmd());\n        jcommander.addCommand(\"delete\", new DeletePackageCmd());\n    }\n","date":"2020-12-08 20:45:09","endLine":50,"groupId":"2234","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"CmdPackages","params":"(PulsarAdminadmin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/bb/9e6669f184d1cddfbe1ecfe23df123197e6e48.src","preCode":"    CmdPackages(PulsarAdmin admin) {\n        super(\"packages\", admin);\n        this.packages = admin.packages();\n\n        jcommander.addCommand(\"get-metadata\", new GetMetadataCmd());\n        jcommander.addCommand(\"update-metadata\", new UpdateMetadataCmd());\n        jcommander.addCommand(\"upload\", new UploadCmd());\n        jcommander.addCommand(\"download\", new DownloadCmd());\n        jcommander.addCommand(\"list\", new ListPackagesCmd());\n        jcommander.addCommand(\"list-versions\", new ListPackageVersionsCmd());\n        jcommander.addCommand(\"delete\", new DeletePackageCmd());\n    }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdPackages.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":39,"status":"B"}],"commitId":"652dc1eff2ad605f5fab4a633c454454d00d8fb5","commitMessage":"@@@Package management client command (#8817)\n\n---\n\nMaster Issue: #8676\n\n*Motivation*\n\nAdd commands for package management service in pulsar-admin tool.\n\n*Modifications*\n\n- Add commands for package management service","date":"2020-12-08 20:45:09","modifiedFileCount":"2","status":"M","submitter":"Yong Zhang"},{"authorTime":"2020-12-10 21:16:57","codes":[{"authorDate":"2018-01-26 15:22:49","commitOrder":4,"curCode":"    public CmdNonPersistentTopics(PulsarAdmin admin) {\n        super(\"non-persistent\", admin);\n        nonPersistentTopics = admin.nonPersistentTopics();\n\n        jcommander.addCommand(\"create-partitioned-topic\", new CreatePartitionedCmd());\n        jcommander.addCommand(\"lookup\", new Lookup());\n        jcommander.addCommand(\"stats\", new GetStats());\n        jcommander.addCommand(\"stats-internal\", new GetInternalStats());\n        jcommander.addCommand(\"get-partitioned-topic-metadata\", new GetPartitionedTopicMetadataCmd());\n        jcommander.addCommand(\"list\", new GetList());\n        jcommander.addCommand(\"list-in-bundle\", new GetListInBundle());\n    }\n","date":"2018-01-26 15:22:49","endLine":43,"groupId":"13579","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"CmdNonPersistentTopics","params":"(PulsarAdminadmin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/e0/9e4de693d24b28e9c96c376321672d1e134c71.src","preCode":"    public CmdNonPersistentTopics(PulsarAdmin admin) {\n        super(\"non-persistent\", admin);\n        nonPersistentTopics = admin.nonPersistentTopics();\n\n        jcommander.addCommand(\"create-partitioned-topic\", new CreatePartitionedCmd());\n        jcommander.addCommand(\"lookup\", new Lookup());\n        jcommander.addCommand(\"stats\", new GetStats());\n        jcommander.addCommand(\"stats-internal\", new GetInternalStats());\n        jcommander.addCommand(\"get-partitioned-topic-metadata\", new GetPartitionedTopicMetadataCmd());\n        jcommander.addCommand(\"list\", new GetList());\n        jcommander.addCommand(\"list-in-bundle\", new GetListInBundle());\n    }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNonPersistentTopics.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":32,"status":"N"},{"authorDate":"2020-12-10 21:16:57","commitOrder":4,"curCode":"    public CmdPackages(PulsarAdmin admin) {\n        super(\"packages\", admin);\n        this.packages = admin.packages();\n\n        jcommander.addCommand(\"get-metadata\", new GetMetadataCmd());\n        jcommander.addCommand(\"update-metadata\", new UpdateMetadataCmd());\n        jcommander.addCommand(\"upload\", new UploadCmd());\n        jcommander.addCommand(\"download\", new DownloadCmd());\n        jcommander.addCommand(\"list\", new ListPackagesCmd());\n        jcommander.addCommand(\"list-versions\", new ListPackageVersionsCmd());\n        jcommander.addCommand(\"delete\", new DeletePackageCmd());\n    }\n","date":"2020-12-10 21:16:57","endLine":50,"groupId":"2234","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"CmdPackages","params":"(PulsarAdminadmin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/4c/863e97a522e74eed9d85efe7d89fb334e9a69f.src","preCode":"    CmdPackages(PulsarAdmin admin) {\n        super(\"packages\", admin);\n        this.packages = admin.packages();\n\n        jcommander.addCommand(\"get-metadata\", new GetMetadataCmd());\n        jcommander.addCommand(\"update-metadata\", new UpdateMetadataCmd());\n        jcommander.addCommand(\"upload\", new UploadCmd());\n        jcommander.addCommand(\"download\", new DownloadCmd());\n        jcommander.addCommand(\"list\", new ListPackagesCmd());\n        jcommander.addCommand(\"list-versions\", new ListPackageVersionsCmd());\n        jcommander.addCommand(\"delete\", new DeletePackageCmd());\n    }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdPackages.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":39,"status":"M"}],"commitId":"8ded6deca4580a23c5674e5529525f3a1a8f1c39","commitMessage":"@@@Add integration tests for package management service (#8876)\n\n---\n\nMaster Issue: #8676\n\n*Motivation*\n\nAdd integration tests for testing the whole package management service.\n\n*Modifications*\n\n- Add integration tests\n- Fix some issue when startup the package management service","date":"2020-12-10 21:16:57","modifiedFileCount":"8","status":"M","submitter":"Yong Zhang"},{"authorTime":"2021-01-29 03:06:36","codes":[{"authorDate":"2021-01-29 03:06:36","commitOrder":5,"curCode":"    public CmdNonPersistentTopics(Supplier<PulsarAdmin> admin) {\n        super(\"non-persistent\", admin);\n\n        jcommander.addCommand(\"create-partitioned-topic\", new CreatePartitionedCmd());\n        jcommander.addCommand(\"lookup\", new Lookup());\n        jcommander.addCommand(\"stats\", new GetStats());\n        jcommander.addCommand(\"stats-internal\", new GetInternalStats());\n        jcommander.addCommand(\"get-partitioned-topic-metadata\", new GetPartitionedTopicMetadataCmd());\n        jcommander.addCommand(\"list\", new GetList());\n        jcommander.addCommand(\"list-in-bundle\", new GetListInBundle());\n    }\n","date":"2021-01-29 03:06:36","endLine":45,"groupId":"10414","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"CmdNonPersistentTopics","params":"(Supplier<PulsarAdmin>admin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/2f/45cb97f1b4d1a246f6edf33ecc60d6e8c4ebec.src","preCode":"    public CmdNonPersistentTopics(PulsarAdmin admin) {\n        super(\"non-persistent\", admin);\n        nonPersistentTopics = admin.nonPersistentTopics();\n\n        jcommander.addCommand(\"create-partitioned-topic\", new CreatePartitionedCmd());\n        jcommander.addCommand(\"lookup\", new Lookup());\n        jcommander.addCommand(\"stats\", new GetStats());\n        jcommander.addCommand(\"stats-internal\", new GetInternalStats());\n        jcommander.addCommand(\"get-partitioned-topic-metadata\", new GetPartitionedTopicMetadataCmd());\n        jcommander.addCommand(\"list\", new GetList());\n        jcommander.addCommand(\"list-in-bundle\", new GetListInBundle());\n    }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdNonPersistentTopics.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":35,"status":"M"},{"authorDate":"2021-01-29 03:06:36","commitOrder":5,"curCode":"    public CmdPackages(Supplier<PulsarAdmin> admin) {\n        super(\"packages\", admin);\n\n\n        jcommander.addCommand(\"get-metadata\", new GetMetadataCmd());\n        jcommander.addCommand(\"update-metadata\", new UpdateMetadataCmd());\n        jcommander.addCommand(\"upload\", new UploadCmd());\n        jcommander.addCommand(\"download\", new DownloadCmd());\n        jcommander.addCommand(\"list\", new ListPackagesCmd());\n        jcommander.addCommand(\"list-versions\", new ListPackageVersionsCmd());\n        jcommander.addCommand(\"delete\", new DeletePackageCmd());\n    }\n","date":"2021-01-29 03:06:36","endLine":51,"groupId":"10414","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"CmdPackages","params":"(Supplier<PulsarAdmin>admin)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-pulsar-10-0.7/blobInfo/CC_OUT/blobs/d0/064a8634ec047f597a3f4bd62e2318b16bf3a6.src","preCode":"    public CmdPackages(PulsarAdmin admin) {\n        super(\"packages\", admin);\n        this.packages = admin.packages();\n\n        jcommander.addCommand(\"get-metadata\", new GetMetadataCmd());\n        jcommander.addCommand(\"update-metadata\", new UpdateMetadataCmd());\n        jcommander.addCommand(\"upload\", new UploadCmd());\n        jcommander.addCommand(\"download\", new DownloadCmd());\n        jcommander.addCommand(\"list\", new ListPackagesCmd());\n        jcommander.addCommand(\"list-versions\", new ListPackageVersionsCmd());\n        jcommander.addCommand(\"delete\", new DeletePackageCmd());\n    }\n","realPath":"pulsar-client-tools/src/main/java/org/apache/pulsar/admin/cli/CmdPackages.java","repoName":"pulsar","snippetEndLine":0,"snippetStartLine":0,"startLine":40,"status":"M"}],"commitId":"232b32439687995dd3102d8c281cf50b7b91e0bf","commitMessage":"@@@Lazily init PulsarAdmin in PulsarAdminTool (#9312)\n\n\n Motivation\npulsar-admin (PulsarAdminTool) initialises eagerly the PulsarAdmin object and some of the the underlying REST API intefaces.\nThis initialisation process triggers lot of resource loading (like SSL/RESTAPI classes....) that slows down the JVM even for stuff that is not needed.\nAlso there are shutdown hooks that are useless by they are executed while existing from the command.\n\nRemoving initialisation of useless stuff helps in having a better bootstrap time.  especially in case that you are not performing API calls.  like when you are learning the tool and you make lots of syntax errors. \n\n\n Modifications\n- Initialise as lazily as possible PulsarAdmin \n- Make PulsarAdminTool#main \"testable\" by allowing it to not call System.exit\n- Use halt instead of exit in order to not trigger shutdown hooks\n\n\n Verifying this change\nThis change is a trivial rework / code cleanup.  but I have added tests for parts that have been touched and had not unit tests.\n","date":"2021-01-29 03:06:36","modifiedFileCount":"27","status":"M","submitter":"Enrico Olivelli"}]
