[{"authorTime":"2018-04-26 03:22:53","codes":[{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testQueryContextParsingObjectHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startObject()\n                .nullField(\"context\")\n                .field(\"boost\", 10)\n                .field(\"prefix\", true)\n                .endObject();\n        XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder));\n        CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n        Exception e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n        assertThat(e.getMessage(), containsString(\"category context must be a string, number or boolean\"));\n    }\n","date":"2018-04-26 03:22:53","endLine":525,"groupId":"3357","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testQueryContextParsingObjectHavingNULL","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b9/da305e132f52514653b9f4c15f1c47ba2e0c69.src","preCode":"    public void testQueryContextParsingObjectHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startObject()\n                .nullField(\"context\")\n                .field(\"boost\", 10)\n                .field(\"prefix\", true)\n                .endObject();\n        XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder));\n        CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n        Exception e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n        assertThat(e.getMessage(), containsString(\"category context must be a string, number or boolean\"));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":514,"status":"B"},{"authorDate":"2018-04-26 03:22:53","commitOrder":1,"curCode":"    public void testQueryContextParsingMixedHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startArray()\n                .startObject()\n                .field(\"context\", \"context1\")\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .value(\"context2\")\n                .value(false)\n                .startObject()\n                .field(\"context\", 333)\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .nullValue()\n                .endArray();\n        XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder));\n        CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n        XContentParseException e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n        assertThat(ExceptionsHelper.detailedMessage(e), containsString(\"category context must be an object, string, number or boolean\"));\n    }\n","date":"2018-04-26 03:22:53","endLine":683,"groupId":"63346","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testQueryContextParsingMixedHavingNULL","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/b9/da305e132f52514653b9f4c15f1c47ba2e0c69.src","preCode":"    public void testQueryContextParsingMixedHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startArray()\n                .startObject()\n                .field(\"context\", \"context1\")\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .value(\"context2\")\n                .value(false)\n                .startObject()\n                .field(\"context\", 333)\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .nullValue()\n                .endArray();\n        XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder));\n        CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n        XContentParseException e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n        assertThat(ExceptionsHelper.detailedMessage(e), containsString(\"category context must be an object, string, number or boolean\"));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":662,"status":"B"}],"commitId":"d74fb9eb4559077e2d20b19a9ed62d9ff825027a","commitMessage":"@@@Opened x-pack ILM code\n","date":"2018-04-26 03:22:53","modifiedFileCount":"0","status":"B","submitter":"Tal Levy"},{"authorTime":"2018-06-25 03:39:56","codes":[{"authorDate":"2018-06-25 03:39:56","commitOrder":2,"curCode":"    public void testQueryContextParsingObjectHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startObject()\n                .nullField(\"context\")\n                .field(\"boost\", 10)\n                .field(\"prefix\", true)\n                .endObject();\n        try (XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder))) {\n            CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n            Exception e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n            assertThat(e.getMessage(), containsString(\"category context must be a string, number or boolean\"));\n        }\n    }\n","date":"2018-06-25 16:41:24","endLine":535,"groupId":"3357","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testQueryContextParsingObjectHavingNULL","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/3a/7451e78fb4f55a10065d04ba3c1c204ae83f39.src","preCode":"    public void testQueryContextParsingObjectHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startObject()\n                .nullField(\"context\")\n                .field(\"boost\", 10)\n                .field(\"prefix\", true)\n                .endObject();\n        XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder));\n        CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n        Exception e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n        assertThat(e.getMessage(), containsString(\"category context must be a string, number or boolean\"));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":523,"status":"M"},{"authorDate":"2018-06-25 03:39:56","commitOrder":2,"curCode":"    public void testQueryContextParsingMixedHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startArray()\n                .startObject()\n                .field(\"context\", \"context1\")\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .value(\"context2\")\n                .value(false)\n                .startObject()\n                .field(\"context\", 333)\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .nullValue()\n                .endArray();\n        try (XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder))) {\n            CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n            XContentParseException e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n            assertThat(ExceptionsHelper.detailedMessage(e), containsString(\"category context must be an object, string, number or boolean\"));\n        }\n    }\n","date":"2018-06-25 16:41:24","endLine":698,"groupId":"63346","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testQueryContextParsingMixedHavingNULL","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/3a/7451e78fb4f55a10065d04ba3c1c204ae83f39.src","preCode":"    public void testQueryContextParsingMixedHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startArray()\n                .startObject()\n                .field(\"context\", \"context1\")\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .value(\"context2\")\n                .value(false)\n                .startObject()\n                .field(\"context\", 333)\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .nullValue()\n                .endArray();\n        XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder));\n        CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n        XContentParseException e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n        assertThat(ExceptionsHelper.detailedMessage(e), containsString(\"category context must be an object, string, number or boolean\"));\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":676,"status":"M"}],"commitId":"e6dc01d2b7d36b6d2a6aa11289afb70c9568c986","commitMessage":"@@@Close xcontent parsers (partial) (#31513)\n\nPartial pass at closing XContentParsers in server.  This mostly involved adding try-with-resources statements around the usage of XContentParsers.","date":"2018-06-25 16:41:24","modifiedFileCount":"53","status":"M","submitter":"Tom Callahan"},{"authorTime":"2019-02-22 18:30:38","codes":[{"authorDate":"2018-06-25 03:39:56","commitOrder":3,"curCode":"    public void testQueryContextParsingObjectHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startObject()\n                .nullField(\"context\")\n                .field(\"boost\", 10)\n                .field(\"prefix\", true)\n                .endObject();\n        try (XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder))) {\n            CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n            Exception e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n            assertThat(e.getMessage(), containsString(\"category context must be a string, number or boolean\"));\n        }\n    }\n","date":"2018-06-25 16:41:24","endLine":535,"groupId":"104701","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"testQueryContextParsingObjectHavingNULL","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/3a/7451e78fb4f55a10065d04ba3c1c204ae83f39.src","preCode":"    public void testQueryContextParsingObjectHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startObject()\n                .nullField(\"context\")\n                .field(\"boost\", 10)\n                .field(\"prefix\", true)\n                .endObject();\n        try (XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder))) {\n            CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n            Exception e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n            assertThat(e.getMessage(), containsString(\"category context must be a string, number or boolean\"));\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":523,"status":"N"},{"authorDate":"2019-02-22 18:30:38","commitOrder":3,"curCode":"    public void testQueryContextParsingMixedHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startArray()\n                .startObject()\n                .field(\"context\", \"context1\")\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .value(\"context2\")\n                .value(false)\n                .startObject()\n                .field(\"context\", 333)\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .nullValue()\n                .endArray();\n        try (XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder))) {\n            CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n            XContentParseException e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n            assertThat(e.getMessage(), containsString(\"category context must be an object, string, number or boolean\"));\n        }\n    }\n","date":"2019-02-22 18:30:38","endLine":701,"groupId":"104701","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"testQueryContextParsingMixedHavingNULL","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-elasticsearch-10-0.7/blobInfo/CC_OUT/blobs/a1/0c8b374c0cc26bd58b2da269e3c6f6e4da0ece.src","preCode":"    public void testQueryContextParsingMixedHavingNULL() throws Exception {\n        XContentBuilder builder = jsonBuilder().startArray()\n                .startObject()\n                .field(\"context\", \"context1\")\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .value(\"context2\")\n                .value(false)\n                .startObject()\n                .field(\"context\", 333)\n                .field(\"boost\", 2)\n                .field(\"prefix\", true)\n                .endObject()\n                .nullValue()\n                .endArray();\n        try (XContentParser parser = createParser(JsonXContent.jsonXContent, BytesReference.bytes(builder))) {\n            CategoryContextMapping mapping = ContextBuilder.category(\"cat\").build();\n\n            XContentParseException e = expectThrows(XContentParseException.class, () -> mapping.parseQueryContext(parser));\n            assertThat(ExceptionsHelper.detailedMessage(e),\n                    containsString(\"category context must be an object, string, number or boolean\"));\n        }\n    }\n","realPath":"server/src/test/java/org/elasticsearch/search/suggest/completion/CategoryContextMappingTests.java","repoName":"elasticsearch","snippetEndLine":0,"snippetStartLine":0,"startLine":679,"status":"M"}],"commitId":"ae8dee340dfde5eb1808958e03549bd20ef0660a","commitMessage":"@@@Remove ExceptionsHelper#detailedMessage in tests (#37921)\n\nWith this commit we remove all usages of the deprecated method\n`ExceptionsHelper#detailedMessage` in tests. We do not address\nproduction code here but rather in dedicated follow-up PRs to keep the\nindividual changes manageable.\n\nRelates #19069\n","date":"2019-02-22 18:30:38","modifiedFileCount":"18","status":"M","submitter":"Daniel Mitterdorfer"}]
