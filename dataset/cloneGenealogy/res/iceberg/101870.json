[{"authorTime":"2021-01-31 05:48:52","codes":[{"authorDate":"2020-11-02 04:19:41","commitOrder":3,"curCode":"  public void testParserVersionValidation() throws Exception {\n    String supportedVersion1 = readTableMetadataInputFile(\"TableMetadataV1Valid.json\");\n    TableMetadata parsed1 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion1, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed1);\n\n    String supportedVersion2 = readTableMetadataInputFile(\"TableMetadataV2Valid.json\");\n    TableMetadata parsed2 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion2, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed2);\n\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataUnsupportedVersion.json\");\n    AssertHelpers.assertThrows(\"Should not read unsupported metadata\",\n        IllegalArgumentException.class, \"Cannot read unsupported version\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","date":"2020-11-02 04:19:41","endLine":466,"groupId":"2004","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"testParserVersionValidation","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/a2/52f6fa71a1453a4e4943eee75c14c4249a1cc3.src","preCode":"  public void testParserVersionValidation() throws Exception {\n    String supportedVersion1 = readTableMetadataInputFile(\"TableMetadataV1Valid.json\");\n    TableMetadata parsed1 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion1, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed1);\n\n    String supportedVersion2 = readTableMetadataInputFile(\"TableMetadataV2Valid.json\");\n    TableMetadata parsed2 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion2, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed2);\n\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataUnsupportedVersion.json\");\n    AssertHelpers.assertThrows(\"Should not read unsupported metadata\",\n        IllegalArgumentException.class, \"Cannot read unsupported version\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","realPath":"core/src/test/java/org/apache/iceberg/TestTableMetadata.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":449,"status":"NB"},{"authorDate":"2021-01-31 05:48:52","commitOrder":3,"curCode":"  public void testParserV2LastAssignedFieldIdValidation() throws Exception {\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataV2MissingLastAssignedPartitionId.json\");\n    AssertHelpers.assertThrows(\"Should reject v2 metadata without last assigned partition id\",\n        IllegalArgumentException.class, \"last-assigned-partition-id must exist in format v2\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","date":"2021-01-31 05:48:52","endLine":492,"groupId":"2004","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"testParserV2LastAssignedFieldIdValidation","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/1c/4040f0ecaf43b29c93631cfc611e64155cedb6.src","preCode":"  public void testParserV2LastAssignedFieldIdValidation() throws Exception {\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataV2MissingLastAssignedPartitionId.json\");\n    AssertHelpers.assertThrows(\"Should reject v2 metadata without last assigned partition id\",\n        IllegalArgumentException.class, \"last-assigned-partition-id must exist in format v2\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","realPath":"core/src/test/java/org/apache/iceberg/TestTableMetadata.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":485,"status":"B"}],"commitId":"b3e01b74fb8909d0c5aa3f9a1b9468471e03c13c","commitMessage":"@@@Core: Add lastAssignedPartitionId to TableMetadata (#2089)\n\n","date":"2021-01-31 05:48:52","modifiedFileCount":"5","status":"M","submitter":"jun-he"},{"authorTime":"2021-02-02 04:51:54","codes":[{"authorDate":"2020-11-02 04:19:41","commitOrder":4,"curCode":"  public void testParserVersionValidation() throws Exception {\n    String supportedVersion1 = readTableMetadataInputFile(\"TableMetadataV1Valid.json\");\n    TableMetadata parsed1 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion1, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed1);\n\n    String supportedVersion2 = readTableMetadataInputFile(\"TableMetadataV2Valid.json\");\n    TableMetadata parsed2 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion2, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed2);\n\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataUnsupportedVersion.json\");\n    AssertHelpers.assertThrows(\"Should not read unsupported metadata\",\n        IllegalArgumentException.class, \"Cannot read unsupported version\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","date":"2020-11-02 04:19:41","endLine":466,"groupId":"101870","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"testParserVersionValidation","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/a2/52f6fa71a1453a4e4943eee75c14c4249a1cc3.src","preCode":"  public void testParserVersionValidation() throws Exception {\n    String supportedVersion1 = readTableMetadataInputFile(\"TableMetadataV1Valid.json\");\n    TableMetadata parsed1 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion1, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed1);\n\n    String supportedVersion2 = readTableMetadataInputFile(\"TableMetadataV2Valid.json\");\n    TableMetadata parsed2 = TableMetadataParser.fromJson(\n        ops.io(), null, JsonUtil.mapper().readValue(supportedVersion2, JsonNode.class));\n    Assert.assertNotNull(\"Should successfully read supported metadata version\", parsed2);\n\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataUnsupportedVersion.json\");\n    AssertHelpers.assertThrows(\"Should not read unsupported metadata\",\n        IllegalArgumentException.class, \"Cannot read unsupported version\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","realPath":"core/src/test/java/org/apache/iceberg/TestTableMetadata.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":449,"status":"N"},{"authorDate":"2021-02-02 04:51:54","commitOrder":4,"curCode":"  public void testParserV2LastAssignedFieldIdValidation() throws Exception {\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataV2MissingLastPartitionId.json\");\n    AssertHelpers.assertThrows(\"Should reject v2 metadata without last assigned partition field id\",\n        IllegalArgumentException.class, \"last-partition-id must exist in format v2\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","date":"2021-02-02 04:51:54","endLine":492,"groupId":"101870","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"testParserV2LastAssignedFieldIdValidation","params":"()","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-iceberg-10-0.7/blobInfo/CC_OUT/blobs/62/b35f84e038a0d191261edab6d66b35a2bf760b.src","preCode":"  public void testParserV2LastAssignedFieldIdValidation() throws Exception {\n    String unsupportedVersion = readTableMetadataInputFile(\"TableMetadataV2MissingLastAssignedPartitionId.json\");\n    AssertHelpers.assertThrows(\"Should reject v2 metadata without last assigned partition id\",\n        IllegalArgumentException.class, \"last-assigned-partition-id must exist in format v2\",\n        () -> TableMetadataParser.fromJson(\n            ops.io(), null, JsonUtil.mapper().readValue(unsupportedVersion, JsonNode.class))\n    );\n  }\n","realPath":"core/src/test/java/org/apache/iceberg/TestTableMetadata.java","repoName":"iceberg","snippetEndLine":0,"snippetStartLine":0,"startLine":485,"status":"M"}],"commitId":"d80ff56ea0c11ee561df05fc934282e498a1bb07","commitMessage":"@@@Format: Rename last-assigned-partition-id to last-partition-id in table metadata (#2188)\n\n","date":"2021-02-02 04:51:54","modifiedFileCount":"2","status":"M","submitter":"jun-he"}]
