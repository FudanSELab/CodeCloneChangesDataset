[{"authorTime":"2019-12-05 13:18:22","codes":[{"authorDate":"2019-12-05 13:18:22","commitOrder":1,"curCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, int numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","date":"2019-12-05 13:18:22","endLine":79,"groupId":"42264","id":1,"instanceNumber":1,"isCurCommit":0,"methodName":"createSlotAcc","params":"(FacetContextfcontext@intnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/c2/98fd1dec59682e3826cd91077faedc3a212485.src","preCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, int numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/PercentileAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":53,"status":"B"},{"authorDate":"2019-12-05 13:18:22","commitOrder":1,"curCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, int numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","date":"2019-12-05 13:18:22","endLine":63,"groupId":"42264","id":2,"instanceNumber":2,"isCurCommit":0,"methodName":"createSlotAcc","params":"(FacetContextfcontext@intnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/7c/d4b9d441dede51f78f5b482055e13900ebefdf.src","preCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, int numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/SumAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":37,"status":"B"}],"commitId":"12e8cca6442e6c64a414d832b3982cc77354c6ad","commitMessage":"@@@SOLR-11706: add support for aggregation on multivalued fields\n\n* min.  max.  sum.  sumsq.  avg.  stddev.  variance.  percentile aggregations\n  in JSON facets now supports multivalued fields\n","date":"2019-12-05 13:18:22","modifiedFileCount":"14","status":"B","submitter":"Munendra S N"},{"authorTime":"2020-04-10 21:46:54","codes":[{"authorDate":"2020-04-10 21:46:54","commitOrder":2,"curCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","date":"2020-04-10 22:00:20","endLine":78,"groupId":"42264","id":3,"instanceNumber":1,"isCurCommit":0,"methodName":"createSlotAcc","params":"(FacetContextfcontext@longnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/95/6b179b2ddc9d0acac5e9cdb0a764a07e8f3413.src","preCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, int numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/PercentileAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":52,"status":"M"},{"authorDate":"2020-04-10 21:46:54","commitOrder":2,"curCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","date":"2020-04-10 22:00:20","endLine":63,"groupId":"42264","id":4,"instanceNumber":2,"isCurCommit":0,"methodName":"createSlotAcc","params":"(FacetContextfcontext@longnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/5f/e5aed70f6697ce921d5f30794f7a6e0cf71006.src","preCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, int numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/SumAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":37,"status":"M"}],"commitId":"36b280bd0a21952ea54c7567f037eb48dc93205a","commitMessage":"@@@SOLR-11775: return long val for facet count in json facet\n\n* Long value is returned for any count related to json facets\n  irrespective of number of shards\n","date":"2020-04-10 22:00:20","modifiedFileCount":"33","status":"M","submitter":"Munendra S N"},{"authorTime":"2020-05-07 23:04:06","codes":[{"authorDate":"2020-05-07 23:04:06","commitOrder":3,"curCode":"  public SlotAcc createSlotAcc(FacetRequest.FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","date":"2020-05-07 23:04:06","endLine":78,"groupId":"42264","id":5,"instanceNumber":1,"isCurCommit":0,"methodName":"createSlotAcc","params":"(FacetRequest.FacetContextfcontext@longnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/3f/855b144ae8b3a8228887361605a59d961dda3e.src","preCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/PercentileAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":52,"status":"M"},{"authorDate":"2020-05-07 23:04:06","commitOrder":3,"curCode":"  public SlotAcc createSlotAcc(FacetRequest.FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","date":"2020-05-07 23:04:06","endLine":63,"groupId":"42264","id":6,"instanceNumber":2,"isCurCommit":0,"methodName":"createSlotAcc","params":"(FacetRequest.FacetContextfcontext@longnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/06/5faf6b9675ed25f51cf7942efa37136c7aca70.src","preCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/SumAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":37,"status":"M"}],"commitId":"31b350e8040cbe30c4e85b7fb82eab4b6afd81c7","commitMessage":"@@@SOLR-14426 Move auxiliary classes to nested classes (#1487)\n\n","date":"2020-05-07 23:04:06","modifiedFileCount":"67","status":"M","submitter":"Mike Drob"},{"authorTime":"2020-05-21 20:59:32","codes":[{"authorDate":"2020-05-21 20:59:32","commitOrder":4,"curCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","date":"2020-05-21 20:59:32","endLine":78,"groupId":"102160","id":7,"instanceNumber":1,"isCurCommit":1,"methodName":"createSlotAcc","params":"(FacetContextfcontext@longnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/b6/45b7f5000fb5dadeb4583d04313cbc3a21cba4.src","preCode":"  public SlotAcc createSlotAcc(FacetRequest.FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource) vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new PercentileSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new PercentileSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new PercentileUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new Acc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/PercentileAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":52,"status":"M"},{"authorDate":"2020-05-21 20:59:32","commitOrder":4,"curCode":"  public SlotAcc createSlotAcc(FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SlotAcc.SumSlotAcc(vs, fcontext, numSlots);\n  }\n","date":"2020-05-21 20:59:32","endLine":63,"groupId":"102160","id":8,"instanceNumber":2,"isCurCommit":1,"methodName":"createSlotAcc","params":"(FacetContextfcontext@longnumDocs@intnumSlots)","path":"/mnt/clonedata/CloneManagementServer/ManagementServer/consistResult/result-solr-10-0.7/blobInfo/CC_OUT/blobs/05/f5476e7f4028760db65fc709b6b240077e6a78.src","preCode":"  public SlotAcc createSlotAcc(FacetRequest.FacetContext fcontext, long numDocs, int numSlots) throws IOException {\n    ValueSource vs = getArg();\n\n    if (vs instanceof FieldNameValueSource) {\n      String field = ((FieldNameValueSource)vs).getFieldName();\n      SchemaField sf = fcontext.qcontext.searcher().getSchema().getField(field);\n      if (sf.getType().getNumberType() == null) {\n        throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n            name() + \" aggregation not supported for \" + sf.getType().getTypeName());\n      }\n      if (sf.multiValued() || sf.getType().multiValuedFieldCache()) {\n        if (sf.hasDocValues()) {\n          if (sf.getType().isPointField()) {\n            return new SumSortedNumericAcc(fcontext, sf, numSlots);\n          }\n          return new SumSortedSetAcc(fcontext, sf, numSlots);\n        }\n        if (sf.getType().isPointField()) {\n          throw new SolrException(SolrException.ErrorCode.BAD_REQUEST,\n              name() + \" aggregation not supported for PointField w/o docValues\");\n        }\n        return new SumUnInvertedFieldAcc(fcontext, sf, numSlots);\n      }\n      vs = sf.getType().getValueSource(sf, null);\n    }\n    return new SumSlotAcc(vs, fcontext, numSlots);\n  }\n","realPath":"solr/core/src/java/org/apache/solr/search/facet/SumAgg.java","repoName":"solr","snippetEndLine":0,"snippetStartLine":0,"startLine":37,"status":"M"}],"commitId":"9c066f60f1804c26db8be226429a0be046c5a4db","commitMessage":"@@@SOLR-14482: Fix or suppress warnings in solr/search/facet\n","date":"2020-05-21 20:59:32","modifiedFileCount":"57","status":"M","submitter":"Erick Erickson"}]
